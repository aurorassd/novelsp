
export const TONE_PRESETS = {
    "Pure Love (純愛・初恋)": `## 1. Descriptive Focus (描写の焦点)
- **Micro-Sensations:** Focus on the electricity of slight touches, the heat of a blush, and the sound of heartbeats.
- **Emotional Innocence:** Highlight the clumsiness and purity of the interaction. No aggression, only mutual discovery.
## 2. Narrative Voice (語り口)
- **Gentle & Hesitant:** The narration should be slow, careful, and respectful. Use soft metaphors (light, feathers, warmth).
## 3. Forbidden Vocabulary List
[Emotion]: Cherish, nervous, heartbeat, precious, first time.
[Action]: Gently, hold, gaze, blush, tremble.`,

    "High Fantasy (王道ファンタジー)": `## 1. Descriptive Focus (描写の焦点)
- **Epic Scale:** Contrast the intimacy of the act with the grandeur of the setting (ancient ruins, magical lights).
- **Mana & Vitality:** Describe bodily fluids and sensations as exchanges of magical energy or life force.
## 2. Narrative Voice (語り口)
- **Grand & Poetic:** Use archaic or formal language. The act is not just physical but a "rite" or "destiny."
## 3. Forbidden Vocabulary List
[World]: Mana, spell, vow, eternal, goddess, destiny.
[Action]: Bestow, merge, engrave, release, bind.`,

    "School Days (学園・青春)": `## 1. Descriptive Focus (描写の焦点)
- **Atmospheric Details:** Sweat mixed with deodorant, the sound of cicadas, the humidity of a classroom after school.
- **Taboo of Place:** Emphasize the fear of being caught by teachers or classmates.
## 2. Narrative Voice (語り口)
- **Youthful & Colloquial:** Internal monologues should be frantic and teenage-like ("This is bad," "I can't believe it").
## 3. Forbidden Vocabulary List
[Setting]: Classroom, uniform, chime, gym storage, rooftop.
[Sensation]: Sweat, sticky, secret, heat, youth.`,

    "Melancholy (悲哀・泣き)": `## 1. Descriptive Focus (描写の焦点)
- **Beauty in Sadness:** Describe tears and sorrow as something aesthetically pleasing. The act is a desperate attempt to connect.
- **Fleeting Nature:** Emphasize that this moment will end. Use metaphors of rain, wilting flowers, or snow.
## 2. Narrative Voice (語り口)
- **Quiet & Resigned:** The tone is calm but heavy with regret. A monologue of a parting lover.
## 3. Forbidden Vocabulary List
[Emotion]: Grief, farewell, hollow, scars, memory.
[Visual]: Tears, cold, pale, fragile, rain.`,

    "Office / Urban (オフィス・都会)": `## 1. Descriptive Focus (描写の焦点)
- **Material Textures:** The feel of silk stockings, cold leather, polished desks, and the smell of coffee or alcohol.
- **Power Dynamics:** Focus on titles (Boss/Subordinate) and the blurring of professional lines.
## 2. Narrative Voice (語り口)
- **Cool & Transactional:** Use efficient, somewhat detached language that breaks down into lust. "Work mode" vs "Beast mode."
## 3. Forbidden Vocabulary List
[Item]: Suit, heels, tie, document, hotel, alcohol.
[Concept]: Secret, deal, stress, overtime, mistake.`,

    "Teasing / Koakuma (小悪魔・焦らし)": `## 1. Descriptive Focus (描写の焦点)
- **Reactions:** Focus intensely on the frustrated partner's reactions (twitching, begging, flushed face).
- **Control:** The active partner enjoys the *process* more than the climax. Denial is key.
## 2. Narrative Voice (語り口)
- **Playful & Sadistic:** Dialogue-heavy. Use rhetorical questions ("Do you want it?", "Say it properly").
## 3. Forbidden Vocabulary List
[Dialogue]: Beg, wait, not yet, cute, pitiful.
[Action]: Deny, stroke, whisper, laugh, observe.`,

    "Harem / Comedy (ハーレム・ラブコメ)": `## 1. Descriptive Focus (描写の焦点)
- **Chaos & Overload:** Describe sensory overload—too many touches, too many voices, too much pleasure at once.
- **Tropes:** Lean into "Lucky Pervert" situations. Accidents leading to insertion.
## 2. Narrative Voice (語り口)
- **Fast & Light:** Short sentences, exclamations, and a generally upbeat, hedonistic tone. No deep depression.
## 3. Forbidden Vocabulary List
[Vibe]: Lucky, squeeze, sandwich, heaven, panic.
[Action]: Trip, fall, grope, sandwiched, bury.`,

    "Domination / Queen (女王様・支配)": `## 1. Descriptive Focus (描写の焦点)
- **Humiliation:** Focus on the gap between the dominant's dignity (clean, high) and the submissive's state (dirty, low).
- **Worship:** The submissive views abuse as a reward. Pain is described as a gift.
## 2. Narrative Voice (語り口)
- **Imperious & Cold:** The narrator looks down on the subject. Commands are absolute.
## 3. Forbidden Vocabulary List
[Role]: Queen, dog, pig, slave, master.
[Action]: Lick, crawl, step, punish, worship.`,

    "Ero-Guro / Gothic (エログロ・腐敗)": `## 1. Descriptive Focus
- Visceral Textures (Mucus, blood, rust).
- Juxtaposition of Sacred and Profane.
## 2. Narrative Voice
- Suffocating & Feverish.
## 3. Forbidden Vocabulary List
[Decay]: Rot, stench, viscera, defile, beautiful.`,

    "Mind Break / Hypnosis (催眠・精神崩壊)": `## 1. Descriptive Focus
- Sensory Numbness & Floating sensation.
- Repetitive loops of pleasure.
## 2. Narrative Voice
- Fading Logic & Sweet Surrender.
## 3. Forbidden Vocabulary List
[Mental]: Melt, blank, obey, happy, install.`,

    "NTR / Cuckoldry (寝取られ・嫉妬)": `## 1. Descriptive Focus
- Contrast of Winner vs Loser.
- Auditory torture (leaking sounds).
## 2. Narrative Voice
- Self-loathing & Voyeuristic observation.
## 3. Forbidden Vocabulary List
[Concept]: Stained, used, inferior, bull, video.`,

    "Incest / Immoral (近親・背徳)": `## 1. Descriptive Focus (描写の焦点)
- **Shared History:** Reference childhood memories while performing erotic acts. The contrast of "Family" and "Lover."
- **Guilt vs Pleasure:** The thrill comes from the immorality. "We shouldn't" enhances the feeling.
## 2. Narrative Voice (語り口)
- **Intimate & Secretive:** The world narrows down to just the two of them. A closed, suffocating sanctuary.
## 3. Forbidden Vocabulary List
[Relation]: Brother/Sister, Mom/Son, blood, DNA, secret.
[Emotion]: Guilt, taboo, home, smell, birth.`,

    "Inanimate / Objectification (無機物化・道具化)": `## 1. Descriptive Focus (描写の焦点)
- **Loss of Agency:** Describe the character not as a person, but as a mechanism, a hole, or furniture.
- **Static Descriptions:** Focus on the stillness of the "object" vs the movement of the "user."
## 2. Narrative Voice (語り口)
- **Clinical & Detached:** Remove emotional words. Describe usage like an instruction manual or a product review.
## 3. Forbidden Vocabulary List
[State]: Doll, statue, hole, silence, frozen.
[Action]: Use, install, break, fix, lubricate.`,

    "Gender Bender / TS (TS・性転換)": `## 1. Descriptive Focus (描写の焦点)
- **Dysmorphia & Euphoria:** The shock of new organs (breasts, genitals). The brain confusing old reflexes with new sensations.
- **Feminization/Masculinization:** The gradual rewriting of instincts (e.g., wanting to be penetrated).
## 2. Narrative Voice (語り口)
- **Confused -> Accepting:** Starts with panic ("What is this?") and ends with carnal acceptance ("My body knows").
## 3. Forbidden Vocabulary List
[Body]: Hormones, chest, transformation, instinct, female.
[Feeling]: Sweet, melting, wrong, right, heat.`,

    "Monster / Bestial (異種姦・獣)": `## 1. Descriptive Focus (描写の焦点)
- **Size Difference:** Exaggerate the scale of the monster's anatomy vs the human's. Stretching, breaking limits.
- **Primal Fluids:** Focus on the volume and texture of fluids (breeding press).
## 2. Narrative Voice (語り口)
- **Primal & Animalistic:** Less logic, more instinct. The human mind shuts down in the face of overwhelming biology.
## 3. Forbidden Vocabulary List
[Creature]: Beast, tentacle, slime, knot, eggs.
[Action]: Breed, fill, stretch, womb, fertilize.`,

    "Public / Exhibitionism (露出・公衆)": `## 1. Descriptive Focus (描写の焦点)
- **Paranoia:** The sound of footsteps, the gaze of strangers, the wind on exposed skin.
- **Suppression:** The struggle to keep quiet while experiencing intense pleasure.
## 2. Narrative Voice (語り口)
- **Tense & Thrilling:** Short, nervous sentences. Constant scanning of the environment.
## 3. Forbidden Vocabulary List
[Setting]: Park, train, window, street, balcony.
[Feeling]: Shame, exposed, seen, quiet, thrill.`
};

// Data Models

export class Character {
    constructor(name = "New Character", description = "") {
        this.id = crypto.randomUUID();
        this.name = name;
        this.description = description;
    }
}

export class WorldItem {
    constructor(name = "New Item", category = "Location", description = "") {
        this.id = crypto.randomUUID();
        this.name = name;
        this.category = category;
        this.description = description;
    }
}

export class Project {
    constructor(title = "New Novel") {
        this.title = title;
        this.characters = [];
        this.worldItems = [];
        this.templates = {};
        this.drafts = {};
    }

    static fromJSON(json) {
        const proj = new Project(json.title);
        proj.characters = json.characters.map(c => {
            const char = new Character(c.name, c.description);
            char.id = c.id || char.id;
            return char;
        });
        proj.worldItems = json.worldItems.map(w => {
            const item = new WorldItem(w.name, w.category, w.description);
            item.id = w.id || item.id;
            return item;
        });
        proj.templates = json.templates || {};
        proj.drafts = json.drafts || {};
        return proj;
    }
}
